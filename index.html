<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Улучшенный интерактивный фон</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Arial', sans-serif;
    position: relative;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  }

  /* Фоновые элементы и кнопки */
  canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: block;
    z-index: -1;
  }

  .buttons {
    position: relative;
    display: flex;
    gap: 50px;
    justify-content: center;
    align-items: center;
    height: 100%;
    z-index: 1;
  }

  button {
    padding: 20px 60px;
    font-size: 2em;
    cursor: pointer;
    border: none;
    border-radius: 30px;
    background: linear-gradient(135deg, #ffffff33, #ffffff22);
    color: #fff;
    backdrop-filter: blur(25px);
    box-shadow: 0 0 40px rgba(255,255,255,0.5), inset 0 0 20px rgba(255,255,255,0.3);
    transition: all 0.6s ease;
    font-weight: bold;
  }

  button:hover {
    background: linear-gradient(135deg, #ffffff88, #ffffff66);
    box-shadow: 0 0 70px rgba(255,255,255,0.8), inset 0 0 30px rgba(255,255,255,0.4);
    transform: scale(1.15) rotate(1deg);
  }
</style>
</head>
<body>

<div class="buttons">
  <button onclick="window.open('graph.html', '_self')">График</button>
  <button onclick="window.open('description.html', '_self')">Описание</button>
</div>

<canvas id="background"></canvas>

<script>
  const canvas = document.getElementById('background');
  const ctx = canvas.getContext('2d');

  let width = window.innerWidth;
  let height = window.innerHeight;

  window.addEventListener('resize', () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  });

  // Частицы для эффекта
  const particlesCount = 150;
  const particles = [];

  for (let i = 0; i < particlesCount; i++) {
    particles.push({
      x: Math.random() * width,
      y: Math.random() * height,
      vx: (Math.random() - 0.5) * 1.5,
      vy: (Math.random() - 0.5) * 1.5,
      size: 2 + Math.random() * 2,
      hue: Math.random() * 360,
      opacity: 0.7 + Math.random() * 0.3
    });
  }

  // Реакция на мышь
  let mouseX = width / 2;
  let mouseY = height / 2;

  document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  // Анимация
  function animate() {
    ctx.clearRect(0, 0, width, height);
    
    // Нарисовать градиентный фон с мягкими движениями
    const gradient = ctx.createLinearGradient(0, 0, width, height);
    gradient.addColorStop(0, 'rgba(15, 32, 39, 0.8)');
    gradient.addColorStop(1, 'rgba(32, 58, 67, 0.8)');
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, width, height);

    // Обновление и отрисовка частиц
    for (let p of particles) {
      // Движение
      p.x += p.vx;
      p.y += p.vy;

      // Отскок от границ
      if (p.x < 0 || p.x > width) p.vx *= -1;
      if (p.y < 0 || p.y > height) p.vy *= -1;

      // Взаимодействие с мышью
      const distToMouse = Math.hypot(p.x - mouseX, p.y - mouseY);
      if (distToMouse < 150) {
        // Создаем мягкое освещение и притяжение к курсору
        p.opacity = Math.min(p.opacity + 0.02, 1);
        // Немного притягиваем частицы к мыши
        const angle = Math.atan2(mouseY - p.y, mouseX - p.x);
        p.vx += Math.cos(angle) * 0.05;
        p.vy += Math.sin(angle) * 0.05;
      } else {
        p.opacity = Math.max(p.opacity - 0.01, 0.3);
      }

      // Рисуем частицы
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      ctx.fillStyle = `hsla(${p.hue}, 80%, 60%, ${p.opacity})`;
      ctx.fill();
    }

    // Соединяем частицы линиями
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const p1 = particles[i];
        const p2 = particles[j];
        const dist = Math.hypot(p1.x - p2.x, p1.y - p2.y);
        if (dist < 100) {
          ctx.strokeStyle = `hsla(${(p1.hue + p2.hue) / 2}, 70%, 60%, 0.2)`;
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.moveTo(p1.x, p1.y);
          ctx.lineTo(p2.x, p2.y);
          ctx.stroke();
        }
      }
    }

    requestAnimationFrame(animate);
  }

  // Инициализация
  canvas.width = width;
  canvas.height = height;
  animate();
</script>

</body>
</html>
